var e,n;"function"==typeof(e=globalThis.define)&&(n=e,e=null),function(n,t,o,r,a){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof i[r]&&i[r],l=s.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,t){if(!l[e]){if(!n[e]){var o="function"==typeof i[r]&&i[r];if(!t&&o)return o(e,!0);if(s)return s(e,!0);if(d&&"string"==typeof e)return d(e);var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}p.resolve=function(t){var o=n[e][1][t];return null!=o?o:t},p.cache={};var u=l[e]=new c.Module(e);n[e][0].call(u.exports,p,u,u.exports,this)}return l[e].exports;function p(e){var n=p.resolve(e);return!1===n?{}:c(n)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=n,c.cache=l,c.parent=s,c.register=function(e,t){n[e]=[function(e,n){n.exports=t},{}]},Object.defineProperty(c,"root",{get:function(){return i[r]}}),i[r]=c;for(var u=0;u<t.length;u++)c(t[u]);if(o){var p=c(o);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):a&&(this[a]=p)}}({"9RbhT":[function(e,n,t){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"config",()=>a);var r=e("@plasmohq/messaging");window.getToken=async()=>await (0,r.sendToBackgroundViaRelay)({name:"checkToken"}),window.getExtTokenInfo=async()=>await (0,r.sendToBackgroundViaRelay)({name:"getExtToken"}),window.getSearchToken=async e=>{let n;console.log(e);try{n=await (0,r.sendToBackgroundViaRelay)({name:"checkSearchToken",body:e})}catch(e){console.log(e)}return n},window.loginWithAccessToken=async e=>await (0,r.sendToBackgroundViaRelay)({name:"login",body:e}),window.openInviteModal=async()=>{(0,r.sendToBackgroundViaRelay)({name:"invite/openInviteModal"})},window.syncTokenFromWebScanToExt=async e=>{console.log("==inject token",e),(0,r.sendToBackgroundViaRelay)({name:"login/fromWebScan",body:e})},window.relay={description:"",tryRelay:async()=>await (0,r.sendToBackgroundViaRelay)({name:"info"})},window.openExtWindow=()=>{(0,r.sendToBackgroundViaRelay)({name:"openExtWindow"})},window.logOutTheExt=e=>{console.log("==inject logOutTheExt"),(0,r.sendToBackgroundViaRelay)({name:"webBridge/logout"})};let a={matches:["https://test.answerai.pro/*","https://answerai.pro/*","http://localhost:3000/*","http://localhost:3001/*","https://lingo-test.answerai.pro/*","https://search.answerai.pro/*","https://search2.answerai.pro/*","https://www2.answerai.pro/*","https://app-test.answerai.pro/*","https://app.answerai.pro/*"],world:"MAIN"}},{"@plasmohq/messaging":"aKqri","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],aKqri:[function(e,n,t){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"relay",()=>y),o.export(t,"relayMessage",()=>h),o.export(t,"sendToActiveContentScript",()=>g),o.export(t,"sendToBackground",()=>p),o.export(t,"sendToBackgroundViaRelay",()=>m),o.export(t,"sendToContentScript",()=>f),o.export(t,"sendViaRelay",()=>w);var r=e("nanoid"),a=globalThis.browser?.runtime||globalThis.chrome?.runtime,i=globalThis.browser?.tabs||globalThis.chrome?.tabs,s=()=>{if(!a)throw Error("Extension runtime is not available");return a},l=()=>{if(!i)throw Error("Extension tabs API is not available");return i},d=async()=>{let e=l(),[n]=await e.query({active:!0,currentWindow:!0});return n},c=(e,n)=>!n.__internal&&e.source===globalThis.window&&e.data.name===n.name&&(void 0===n.relayId||e.data.relayId===n.relayId),u=(e,n,t=globalThis.window)=>{let o=async o=>{if(c(o,e)&&!o.data.relayed){let r={name:e.name,relayId:e.relayId,body:o.data.body},a=await n?.(r);t.postMessage({name:e.name,relayId:e.relayId,instanceId:o.data.instanceId,body:a,relayed:!0},{targetOrigin:e.targetOrigin||"/"})}};return t.addEventListener("message",o),()=>t.removeEventListener("message",o)},p=async e=>s().sendMessage(e),f=async e=>{let n="number"==typeof e.tabId?e.tabId:(await d()).id;return l().sendMessage(n,e)},g=f,h=e=>u(e,p),y=h,m=(e,n=globalThis.window)=>new Promise((t,o)=>{let a=(0,r.nanoid)(),i=new AbortController;n.addEventListener("message",n=>{c(n,e)&&n.data.relayed&&n.data.instanceId===a&&(t(n.data.body),i.abort())},{signal:i.signal}),n.postMessage({...e,instanceId:a},{targetOrigin:e.targetOrigin||"/"})}),w=m},{nanoid:"cImgp","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cImgp:[function(e,n,t){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"urlAlphabet",()=>r.urlAlphabet),o.export(t,"random",()=>a),o.export(t,"customRandom",()=>i),o.export(t,"customAlphabet",()=>s),o.export(t,"nanoid",()=>l);var r=e("./url-alphabet/index.js");let a=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,n,t)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*o*n/e.length);return (a=n)=>{let i="";for(;;){let n=t(r),s=r;for(;s--;)if((i+=e[n[s]&o]||"").length===a)return i}}},s=(e,n=21)=>i(e,n,a),l=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,n)=>((n&=63)<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"")},{"./url-alphabet/index.js":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hbR2Q:[function(e,n,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,n){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||n.hasOwnProperty(t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]}})}),n},t.export=function(e,n,t){Object.defineProperty(e,n,{enumerable:!0,get:t})}},{}]},["9RbhT"],"9RbhT","parcelRequireb6ee"),globalThis.define=n;